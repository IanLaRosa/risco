import React, { useState, useEffect, Component } from 'react'
import { Line } from 'react-chartjs-2'

const Home = () => {
    const [chartData, setChartData] = useState({})
    const [chartBData, setChartBData] = useState({})
    const [dados, setDados] = useState({})
    const [eixox, setEixox] = useState({})
    const chart = () => {
        setChartData({
            labels: ["2020-03-20 11:48:25.723216","2020-03-20 11:48:26.774689","2020-03-20 11:48:27.825713","2020-03-20 11:48:28.876938","2020-03-20 11:48:29.937144","2020-03-20 11:48:30.988692","2020-03-20 11:48:32.039396","2020-03-20 11:48:33.089287","2020-03-20 11:48:34.140857","2020-03-20 11:48:35.191364","2020-03-20 11:48:36.240384","2020-03-20 11:48:37.291643","2020-03-20 11:48:38.342512","2020-03-20 11:48:39.392686","2020-03-20 11:48:40.443981","2020-03-20 11:48:41.494527","2020-03-20 11:48:42.545497","2020-03-20 11:48:43.596468","2020-03-20 11:48:44.647331","2020-03-20 11:48:45.722729","2020-03-20 11:48:46.773494","2020-03-20 11:48:47.824564","2020-03-20 11:48:48.875576","2020-03-20 11:48:49.944295","2020-03-20 11:48:50.995410","2020-03-20 11:48:52.046783","2020-03-20 11:48:53.097439","2020-03-20 11:48:54.147716","2020-03-20 11:48:55.198954","2020-03-20 11:48:56.249408","2020-03-20 11:48:57.301370","2020-03-20 11:48:58.352396","2020-03-20 11:48:59.403775","2020-03-20 11:49:00.454597","2020-03-20 11:49:01.504801","2020-03-20 11:49:02.552629","2020-03-20 11:49:03.602738","2020-03-20 11:49:04.653259","2020-03-20 11:49:05.721567","2020-03-20 11:49:06.772881","2020-03-20 11:49:07.824304","2020-03-20 11:49:08.875821","2020-03-20 11:49:09.995044","2020-03-20 11:49:11.045574","2020-03-20 11:49:12.096784","2020-03-20 11:49:13.147079","2020-03-20 11:49:14.197663","2020-03-20 11:49:15.247863","2020-03-20 11:49:16.298987","2020-03-20 11:49:17.349709","2020-03-20 11:49:18.400613","2020-03-20 11:49:19.497840","2020-03-20 11:49:20.548704","2020-03-20 11:49:21.599883","2020-03-20 11:49:22.647618","2020-03-20 11:49:23.722407","2020-03-20 11:49:24.773666","2020-03-20 11:49:25.824172","2020-03-20 11:49:26.874552","2020-03-20 11:49:27.924675","2020-03-20 11:49:28.972741","2020-03-20 11:49:30.023207","2020-03-20 11:49:31.073604","2020-03-20 11:49:32.125210","2020-03-20 11:49:33.176446","2020-03-20 11:49:34.228259","2020-03-20 11:49:35.280010","2020-03-20 11:49:36.330817","2020-03-20 11:49:37.381562","2020-03-20 11:49:38.432335","2020-03-20 11:49:39.508656","2020-03-20 11:49:40.559749","2020-03-20 11:49:41.610171","2020-03-20 11:49:42.657179","2020-03-20 11:49:43.721250","2020-03-20 11:49:44.772244","2020-03-20 11:49:45.822957","2020-03-20 11:49:46.871763","2020-03-20 11:49:47.919403","2020-03-20 11:49:48.969304","2020-03-20 11:49:50.021753","2020-03-20 11:49:51.071824","2020-03-20 11:49:52.122647","2020-03-20 11:49:53.173787","2020-03-20 11:49:54.223545","2020-03-20 11:49:55.271371","2020-03-20 11:49:56.323170","2020-03-20 11:49:57.374517","2020-03-20 11:49:58.424633","2020-03-20 11:49:59.478043","2020-03-20 11:50:00.531467","2020-03-20 11:50:01.578686","2020-03-20 11:50:02.627336","2020-03-20 11:50:03.721049","2020-03-20 11:50:04.769544","2020-03-20 11:50:05.821530","2020-03-20 11:50:06.873443","2020-03-20 11:50:07.924846","2020-03-20 11:50:08.973626","2020-03-20 11:50:10.025865"],
            datasets: [
                {
                    label: 'energia',
                    data: [465,465,465,464,465,464,465,465,466,466,466,466,467,465,466,466,466,465,465,465,465,465,465,464,465,463,465,464,463,463,464,464,464,464,465,465,465,464,465,464,464,465,465,464,466,465,466,465,465,465,465,466,465,465,465,465,466,465,465,464,465,464,465,465,464,465,465,464,464,465,464,465,464,464,465,465,464,464,465,464,465,465,465,464,465,466,465,465,466,465,465,464,465,465,466,465,465,465,466,465],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.6)'
                    ],
                    borderWidth: 4
                }
            ]
        })
    }

    const chartB = () => {
        setChartBData({
            labels: ["2020-03-20 11:48:25.723216","2020-03-20 11:48:26.774689","2020-03-20 11:48:27.825713","2020-03-20 11:48:28.876938","2020-03-20 11:48:29.937144","2020-03-20 11:48:30.988692","2020-03-20 11:48:32.039396","2020-03-20 11:48:33.089287","2020-03-20 11:48:34.140857","2020-03-20 11:48:35.191364","2020-03-20 11:48:36.240384","2020-03-20 11:48:37.291643","2020-03-20 11:48:38.342512","2020-03-20 11:48:39.392686","2020-03-20 11:48:40.443981","2020-03-20 11:48:41.494527","2020-03-20 11:48:42.545497","2020-03-20 11:48:43.596468","2020-03-20 11:48:44.647331","2020-03-20 11:48:45.722729"],
            datasets: [
                {
                    label: 'rede',
                    data: [3231,
                        3016,
                        3271,
                        3135,
                        3347,
                        3265,
                        3378,
                        3181,
                        3296,
                        3006,
                        3366,
                        2993,
                        3198,
                        3098,
                        3376,
                        3148,
                        3171,
                        3121,
                        3176,
                        3054],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.6)'
                    ],
                    borderWidth: 4
                }
            ]
        })
    }

    useEffect(() => {
        //fetch("http://127.0.0.1:5000/iluminatti").then(response => response.json().then(data => {setDados(data)}))
        //fetch("http://127.0.0.1:5000/time").then(response => response.json().then(data => {setEixox(data)}))
        chart()
        chartB()
    },[])
    return(
        <div className="App">
            <h1>Consumo iluminação da cabine no vôo</h1>
            <div style={{height: "600px", width:"800px"}}>
                <Line data={chartData} options={{
                    responsive: true
                }}/>
            </div>
            <h1>Consumo ar condicionado da cabine no vôo</h1>
            <div style={{height: "600px", width:"800px"}}>
                <Line data={chartBData} options={{
                    responsive: true
                }}/>
            </div>
        </div>
    )

}

export default Home;
